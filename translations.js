// translations.js

const translations = {
  // ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
  ar: {
    // Ø§Ù„Ø¹Ø§Ù…Ø© (Common)
    app_name: "Stranger Meeting",
    save_changes: "Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª âœ…",
    loading: "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...",
    error_occurred: "Ø­Ø¯Ø« Ø®Ø·Ø£ Ù…Ø§ØŒ Ø­Ø§ÙˆÙ„ Ø«Ø§Ù†ÙŠØ©",
    back: "Ø±Ø¬ÙˆØ¹",
    logout: "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬",
    
    // ØµÙØ­Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© (index.html)
    welcome_msg: "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¹Ø§Ù„Ù… Ø§Ù„ØªØ¹Ø§Ø±Ù Ø§Ù„Ø¢Ù…Ù†",
    terms_intro: "ØªØ­Ø¯Ø« Ù…Ø¹ Ø£Ø´Ø®Ø§Øµ Ø¬Ø¯Ø¯ Ø­ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù„Ù… Ø¹Ø¨Ø± Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ÙˆØ§Ù„Ø¯Ø±Ø¯Ø´Ø© Ø§Ù„Ù…Ø´ÙØ±Ø©. Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ø§Ù„Ø¢Ù† Ù…Ø¬Ø§Ù†Ø§Ù‹ ÙˆØ¨ÙƒÙ„ Ø®ØµÙˆØµÙŠØ©.",
    login: "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",
    register_title: "Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯",
    encrypted: "ğŸ”’ Ù…Ø´ÙØ±",
    fast: "âš¡ Ø³Ø±ÙŠØ¹",
    global: "ğŸŒ Ø¹Ø§Ù„Ù…ÙŠ",

    // ØµÙØ­Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆØ§Ù„Ø¯Ø®ÙˆÙ„ (Login & Register)
    email_label: "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",
    pass_label: "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
    google_login: "Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨ÙˆØ§Ø³Ø·Ø© Ø¬ÙˆØ¬Ù„",
    no_account: "Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ Ø³Ø¬Ù„ Ø§Ù„Ø¢Ù†",
    have_account: "Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ùƒ",
    fullname_placeholder: "Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„",
    gender_label: "Ø§Ù„Ø¬Ù†Ø³",
    male: "Ø°ÙƒØ±",
    female: "Ø£Ù†Ø«Ù‰",
    seeking_label: "Ø£Ù‡ØªÙ… Ø¨Ù…Ù‚Ø§Ø¨Ù„Ø©",
    seeking_male: "Ø±Ø¬Ø§Ù„",
    seeking_female: "Ù†Ø³Ø§Ø¡",
    seeking_both: "Ø§Ù„Ø¬Ù…ÙŠØ¹",
    country_label: "Ø§Ù„Ø¯ÙˆÙ„Ø©",
    interests_label: "Ø§Ù‡ØªÙ…Ø§Ù…Ø§ØªÙƒ",
    captcha_quest: "Ø³Ø¤Ø§Ù„ Ø£Ù…Ø§Ù†: ÙƒÙ… Ù†Ø§ØªØ¬",
    captcha_err: "âŒ Ø­Ù„ Ø§Ù„ÙƒØ§Ø¨ØªØ´Ø§ ØºÙŠØ± ØµØ­ÙŠØ­",

    // Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… (Dashboard)
    secure_chat: "Ø§Ø¨Ø¯Ø£ Ù…Ø­Ø§Ø¯Ø«Ø© Ø¬Ø¯ÙŠØ¯Ø© Ø¢Ù…Ù†Ø©",
    discovery_desc: "Ø§Ø¨Ø­Ø« Ø¹Ù† Ø£Ø´Ø®Ø§Øµ ÙŠØ´Ø§Ø±ÙƒÙˆÙ†Ùƒ Ù†ÙØ³ Ø§Ù„Ø§Ù‡ØªÙ…Ø§Ù…Ø§Øª Ø­ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù„Ù…",
    start_search: "ğŸš€ Ø§Ø¨Ø­Ø« Ø¹Ù† Ø´Ø±ÙŠÙƒ Ù…ØªØ§Ø­",
    searching: "ğŸ” Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø´Ø±ÙŠÙƒ Ù…Ù†Ø§Ø³Ø¨...",
    match_found: "âœ… ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø´Ø±ÙŠÙƒ! Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­ÙˆÙŠÙ„...",
    no_match: "â³ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø£Ø­Ø¯ Ù…ØªØ§Ø­ Ø§Ù„Ø¢Ù†ØŒ Ø­Ø§ÙˆÙ„ Ø«Ø§Ù†ÙŠØ©",
    safety_tip: "Ù†ØµÙŠØ­Ø© Ø§Ù„Ø£Ù…Ø§Ù† ğŸ›¡ï¸",
    safety_desc: "Ù„Ø§ ØªØ´Ø§Ø±Ùƒ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„Ø¨Ù†ÙƒÙŠØ© Ø£Ùˆ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± Ù…Ø¹ Ø§Ù„ØºØ±Ø¨Ø§Ø¡. Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ù‡Ù†Ø§ Ù…Ø´ÙØ±Ø© ØªÙ…Ø§Ù…Ø§Ù‹.",
    online_now: "â— Ù…ØªØµÙ„ Ø§Ù„Ø¢Ù†",

    // Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ (Profile)
    profile_header: "Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ",
    update_success: "ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø¨Ù†Ø¬Ø§Ø­! âœ¨",
    delete_account: "Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹",
    delete_confirm: "âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹.",

    // Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© ÙˆØ§Ù„ÙÙŠØ¯ÙŠÙˆ (Chat & Meeting)
    type_message: "Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§...",
    partner_offline: "Ø§Ù„Ø´Ø±ÙŠÙƒ ØºÙŠØ± Ù…ØªØµÙ„ Ø­Ø§Ù„ÙŠØ§Ù‹",
    partner_online: "Ù…ØªØµÙ„ Ø§Ù„Ø¢Ù†",
    end_call: "Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ø©",
    camera_on: "ÙƒØ§Ù…ÙŠØ±Ø§ ØªØ¹Ù…Ù„",
    camera_off: "ÙƒØ§Ù…ÙŠØ±Ø§ Ù…ØºÙ„Ù‚Ø©",
    mic_on: "Ù…Ø§ÙŠÙƒ ÙŠØ¹Ù…Ù„",
    mic_off: "Ù…Ø§ÙŠÙƒ ØµØ§Ù…Øª",

    // Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø®ØµÙˆØµÙŠØ© (Terms)
    terms_header: "Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ§Ù„Ø®ØµÙˆØµÙŠØ© ğŸ›¡ï¸",
    terms_privacy_title: "ğŸ”’ Ø§Ù„Ø®ØµÙˆØµÙŠØ© ÙˆØ§Ù„Ø£Ù…Ø§Ù†",
    terms_privacy_1: "Ø§Ù„ØªØ´ÙÙŠØ±: Ø¬Ù…ÙŠØ¹ Ù…ÙƒØ§Ù„Ù…Ø§Øª Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ÙˆØ§Ù„Ø¯Ø±Ø¯Ø´Ø© Ù…Ø´ÙØ±Ø© ÙˆÙ„Ø§ ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„Ù‡Ø§.",
    terms_privacy_2: "Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ ØªØ³ØªØ®Ø¯Ù… ÙÙ‚Ø· Ù„ØºØ±Ø¶ Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„ØªØ­Ø³ÙŠÙ† ØªØ¬Ø±Ø¨ØªÙƒ.",
    terms_rules_title: "ğŸš« Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø³Ù„ÙˆÙƒ",
    terms_rules_1: "ÙŠÙÙ…Ù†Ø¹ Ù…Ù†Ø¹Ø§Ù‹ Ø¨Ø§ØªØ§Ù‹ Ø£ÙŠ Ø³Ù„ÙˆÙƒ Ø®Ø§Ø¯Ø´ Ù„Ù„Ø­ÙŠØ§Ø¡ Ø£Ùˆ ØªÙ†Ù…Ø±.",
    terms_rules_2: "Ø§Ù†ØªØ­Ø§Ù„ Ø§Ù„Ø´Ø®ØµÙŠØ© ÙŠØ¹Ø±Ø¶Ùƒ Ù„Ù„Ø­Ø¸Ø± Ø§Ù„Ø¯Ø§Ø¦Ù… Ù…Ù† Ø§Ù„Ù…Ù†ØµØ©.",
    terms_disclaimer: "ØªÙ†Ø¨ÙŠÙ‡: Ù…ØªØ§Ø¨Ø¹ØªÙƒ Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ØªØ¹Ù†ÙŠ Ù…ÙˆØ§ÙÙ‚ØªÙƒ Ø§Ù„ØµØ±ÙŠØ­Ø© Ø¹Ù„Ù‰ Ù‡Ø°Ù‡ Ø§Ù„Ø´Ø±ÙˆØ·.",
    terms_accept: "Ø£ÙˆØ§ÙÙ‚ ÙˆØ£Ø±ØºØ¨ ÙÙŠ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© âœ…"
  },

  // ğŸ‡ºğŸ‡¸ English
  en: {
    app_name: "Stranger Meeting",
    save_changes: "Save Changes âœ…",
    loading: "Loading...",
    error_occurred: "An error occurred, try again",
    back: "Back",
    logout: "Logout",
    welcome_msg: "Welcome to Safe Meeting World",
    terms_intro: "Talk to new people worldwide via encrypted video and chat. Start your journey now for free and with complete privacy.",
    login: "Login",
    register_title: "Register New Account",
    encrypted: "ğŸ”’ Encrypted",
    fast: "âš¡ Fast",
    global: "ğŸŒ Global",
    email_label: "Email Address",
    pass_label: "Password",
    google_login: "Login with Google",
    no_account: "Don't have an account? Register now",
    have_account: "Already have an account? Login",
    fullname_placeholder: "Full Name",
    gender_label: "Gender",
    male: "Male",
    female: "Female",
    seeking_label: "Interested in meeting",
    seeking_male: "Men",
    seeking_female: "Women",
    seeking_both: "Everyone",
    country_label: "Country",
    interests_label: "Your Interests",
    captcha_quest: "Security Check: What is",
    captcha_err: "âŒ Incorrect CAPTCHA answer",
    secure_chat: "Start a Secure Conversation",
    discovery_desc: "Find people who share your interests around the world",
    start_search: "ğŸš€ Find a Match",
    searching: "ğŸ” Searching for a partner...",
    match_found: "âœ… Match Found! Redirecting...",
    no_match: "â³ No one available now, try again",
    safety_tip: "Safety Tip ğŸ›¡ï¸",
    safety_desc: "Do not share bank info or passwords with strangers. Chats here are fully encrypted.",
    online_now: "â— Online Now",
    profile_header: "User Profile",
    update_success: "Updated successfully! âœ¨",
    delete_account: "Delete Account Permanently",
    delete_confirm: "âš ï¸ Are you sure? All your data will be permanently deleted.",
    type_message: "Type your message here...",
    partner_offline: "Partner is currently offline",
    partner_online: "Online",
    end_call: "End Call",
    camera_on: "Camera On",
    camera_off: "Camera Off",
    mic_on: "Mic On",
    mic_off: "Mic Muted",
    terms_header: "Privacy & Terms of Service ğŸ›¡ï¸",
    terms_privacy_title: "ğŸ”’ Privacy & Security",
    terms_privacy_1: "Encryption: All video calls and chats are encrypted and not recorded.",
    terms_privacy_2: "Data: Your info is only used for matching to improve your experience.",
    terms_rules_title: "ğŸš« Code of Conduct",
    terms_rules_1: "Any inappropriate behavior or bullying is strictly prohibited.",
    terms_rules_2: "Impersonation will lead to a permanent ban.",
    terms_disclaimer: "Notice: Your continued use of the app means you agree to these terms.",
    terms_accept: "I agree and want to continue âœ…"
  }
};

// --- ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ---

export function applyTranslations(lang) {
  const elements = document.querySelectorAll(".tr");
  elements.forEach((el) => {
    const key = el.getAttribute("data-key");
    if (translations[lang] && translations[lang][key]) {
      // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¹Ù†ØµØ± Input Ù†ØºÙŠØ± Ø§Ù„Ù€ Placeholder
      if (el.tagName === "INPUT" || el.tagName === "TEXTAREA") {
        el.placeholder = translations[lang][key];
      } else {
        el.innerText = translations[lang][key];
      }
    }
  });

  // ØªØ­Ø¯ÙŠØ« Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØµÙØ­Ø©
  document.documentElement.lang = lang;
  document.documentElement.dir = lang === "ar" ? "rtl" : "ltr";
  
  // Ø­ÙØ¸ Ø§Ù„ØªÙØ¶ÙŠÙ„
  localStorage.setItem("preferredLang", lang);
  
  // ØªØ­Ø¯ÙŠØ« Ù†Øµ Ø²Ø± Ø§Ù„Ù„ØºØ© Ø¥Ø°Ø§ ÙˆØ¬Ø¯
  const langBtn = document.getElementById("langBtn");
  if (langBtn) langBtn.innerText = lang === "ar" ? "EN" : "AR";
}

export function toggleLang() {
  const current = localStorage.getItem("preferredLang") || "ar";
  const next = current === "ar" ? "en" : "ar";
  applyTranslations(next);
}

export function toggleTheme() {
  const body = document.body;
  const isDark = body.classList.toggle("dark-mode");
  localStorage.setItem("theme", isDark ? "dark" : "light");
}

export function initUI() {
  const savedLang = localStorage.getItem("preferredLang") || "ar";
  const savedTheme = localStorage.getItem("theme") || "light";

  applyTranslations(savedLang);
  if (savedTheme === "dark") {
    document.body.classList.add("dark-mode");
  }
}

