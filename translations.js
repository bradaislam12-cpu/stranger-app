// translations.js - Ø§Ù„Ù‚Ø§Ù…ÙˆØ³ Ø§Ù„Ø´Ø§Ù…Ù„ ÙˆÙ…Ø­Ø±Ùƒ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©

const translations = {
  // ðŸ‡¸ðŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
  ar: {
    // Ø§Ù„Ø¹Ø§Ù…Ø© (Common)
    app_name: "Stranger Meeting",
    save_changes: "Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª âœ…",
    loading: "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...",
    error_occurred: "Ø­Ø¯Ø« Ø®Ø·Ø£ Ù…Ø§ØŒ Ø­Ø§ÙˆÙ„ Ø«Ø§Ù†ÙŠØ©",
    back: "Ø±Ø¬ÙˆØ¹",
    logout: "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬",
    confirm: "ØªØ£ÙƒÙŠØ¯",
    cancel: "Ø¥Ù„ØºØ§Ø¡",
    
    // ØµÙØ­Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© (index.html)
    welcome_msg: "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¹Ø§Ù„Ù… Ø§Ù„ØªØ¹Ø§Ø±Ù Ø§Ù„Ø¢Ù…Ù†",
    terms_intro: "ØªØ­Ø¯Ø« Ù…Ø¹ Ø£Ø´Ø®Ø§Øµ Ø¬Ø¯Ø¯ Ø­ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù„Ù… Ø¹Ø¨Ø± Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ÙˆØ§Ù„Ø¯Ø±Ø¯Ø´Ø© Ø§Ù„Ù…Ø´ÙØ±Ø©. Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ø§Ù„Ø¢Ù† Ù…Ø¬Ø§Ù†Ø§Ù‹ ÙˆØ¨ÙƒÙ„ Ø®ØµÙˆØµÙŠØ©.",
    login: "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",
    register_title: "Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯",
    encrypted: "ðŸ”’ Ù…Ø´ÙØ±",
    fast: "âš¡ Ø³Ø±ÙŠØ¹",
    global: "ðŸŒ Ø¹Ø§Ù„Ù…ÙŠ",

    // ØµÙØ­Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆØ§Ù„Ø¯Ø®ÙˆÙ„ (Login & Register)
    email_label: "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",
    pass_label: "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
    google_login: "Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨ÙˆØ§Ø³Ø·Ø© Ø¬ÙˆØ¬Ù„",
    no_account: "Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ Ø³Ø¬Ù„ Ø§Ù„Ø¢Ù†",
    have_account: "Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ùƒ",
    welcome_back: "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ Ù…Ø¬Ø¯Ø¯Ø§Ù‹!",
    fullname_placeholder: "Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ¹Ø§Ø±",
    gender_label: "Ø¬Ù†Ø³Ùƒ",
    male: "Ø°ÙƒØ±",
    female: "Ø£Ù†Ø«Ù‰",
    seeking_label: "Ø£Ø¨Ø­Ø« Ø¹Ù†",
    seeking_male: "Ø±Ø¬Ø§Ù„",
    seeking_female: "Ù†Ø³Ø§Ø¡",
    seeking_both: "Ø§Ù„Ø¬Ù…ÙŠØ¹",
    
    // Ù†Ø¸Ø§Ù… Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ ÙˆØ§Ù„Ù†Ù‚Ø§Ø· (Economy & Points)
    points_balance: "Ø±ØµÙŠØ¯Ùƒ: {n} Ù†Ù‚Ø·Ø©",
    get_points: "Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø· Ù…Ø¬Ø§Ù†ÙŠØ© ðŸ’°",
    watch_ad: "Ø´Ø§Ù‡Ø¯ Ø¥Ø¹Ù„Ø§Ù† (+5 Ù†Ù‚Ø§Ø·)",
    insufficient_points: "Ø¹Ø°Ø±Ø§Ù‹! Ø±ØµÙŠØ¯Ùƒ ØºÙŠØ± ÙƒØ§ÙÙ Ù„Ù„Ø¨Ø­Ø«. Ø´Ø§Ù‡Ø¯ Ø¥Ø¹Ù„Ø§Ù†Ø§Ù‹ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©.",
    premium_active: "ÙˆØ¶Ø¹ Ø§Ù„Ø¨Ø±ÙŠÙ…ÙŠÙˆÙ… Ù†Ø´Ø· (30 Ø¯Ù‚ÙŠÙ‚Ø© Ø¨Ø­Ø« Ù…Ø¬Ø§Ù†ÙŠ)",
    buy_premium: "Ø´Ø±Ø§Ø¡ 30 Ø¯Ù‚ÙŠÙ‚Ø© Ø¨Ø­Ø« Ø¨Ù„Ø§ Ø­Ø¯ÙˆØ¯",
    search_cost: "ØªÙƒÙ„ÙØ© Ø§Ù„Ø¨Ø­Ø«: 5 Ù†Ù‚Ø§Ø·",

    // Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… (Dashboard)
    secure_chat: "Ø§Ø¨Ø¯Ø£ Ù…Ø­Ø§Ø¯Ø«Ø© ÙÙŠØ¯ÙŠÙˆ Ø¢Ù…Ù†Ø©",
    discovery_desc: "ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø£Ø´Ø®Ø§Øµ Ù…ØªØ§Ø­ÙŠÙ† Ø§Ù„Ø¢Ù† Ø­ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù„Ù… Ø¨Ø®ØµÙˆØµÙŠØ© ØªØ§Ù…Ø©.",
    start_search: "ðŸš€ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¢Ù†",
    searching: "ðŸ” Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø´Ø±ÙŠÙƒ Ù…ØªØ§Ø­...",
    match_found: "âœ… ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø´Ø±ÙŠÙƒ! Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­ÙˆÙŠÙ„...",
    no_match: "â³ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø£Ø­Ø¯ Ù…ØªØ§Ø­ Ø§Ù„Ø¢Ù†ØŒ Ø­Ø§ÙˆÙ„ Ø«Ø§Ù†ÙŠØ©",
    safety_tip: "Ù†ØµÙŠØ­Ø© Ø§Ù„Ø£Ù…Ø§Ù† ðŸ›¡ï¸",
    safety_desc: "Ù„Ø§ ØªØ´Ø§Ø±Ùƒ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ© Ø£Ùˆ Ø§Ù„Ø¨Ù†ÙƒÙŠØ© Ø£Ø¨Ø¯Ø§Ù‹. Ù†Ø­Ù† Ù†Ù‚ÙˆÙ… Ø¨ØªØ´ÙÙŠØ± Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ù„Ø­Ù…Ø§ÙŠØªÙƒ.",
    online_now: "â— Ù…ØªØµÙ„ Ø§Ù„Ø¢Ù†",

    // Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ (Profile)
    profile_header: "Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ",
    update_success: "ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­! âœ¨",
    delete_account: "Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹",
    delete_confirm: "âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ Ø³ÙŠØªÙ… Ù…Ø³Ø­ Ø­Ø³Ø§Ø¨Ùƒ ÙˆÙ†Ù‚Ø§Ø·Ùƒ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹.",
    interests_label: "Ø§Ù„Ø§Ù‡ØªÙ…Ø§Ù…Ø§Øª",

    // Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© ÙˆØ§Ù„ÙÙŠØ¯ÙŠÙˆ (Chat & Meeting)
    type_message: "Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§...",
    partner_offline: "ØºØ§Ø¯Ø± Ø§Ù„Ø´Ø±ÙŠÙƒ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©",
    partner_online: "Ù…ØªØµÙ„ Ø§Ù„Ø¢Ù†",
    end_call: "Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ø©",
    camera_on: "Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ØªØ¹Ù…Ù„",
    camera_off: "Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ù…ØºÙ„Ù‚Ø©",
    mic_on: "Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ† ÙŠØ¹Ù…Ù„",
    mic_off: "Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ† ØµØ§Ù…Øª",
    calling: "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„...",

    // Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø®ØµÙˆØµÙŠØ© (Terms)
    terms_header: "Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ§Ù„Ø®ØµÙˆØµÙŠØ© ðŸ›¡ï¸",
    terms_accept: "Ø£ÙˆØ§ÙÙ‚ ÙˆØ£Ø±ØºØ¨ ÙÙŠ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© âœ…",
    terms_disclaimer: "Ø¨Ù…ØªØ§Ø¨Ø¹ØªÙƒØŒ Ø£Ù†Øª ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ ÙˆØªØªØ­Ù…Ù„ Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø£ÙØ¹Ø§Ù„Ùƒ."
  },

  // ðŸ‡ºðŸ‡¸ English
  en: {
    app_name: "Stranger Meeting",
    save_changes: "Save Changes âœ…",
    loading: "Loading...",
    error_occurred: "An error occurred, try again",
    back: "Back",
    logout: "Logout",
    confirm: "Confirm",
    cancel: "Cancel",
    welcome_msg: "Safe Meeting World",
    terms_intro: "Talk to new people worldwide via encrypted video and chat. Secure and private journey starts here.",
    login: "Login",
    register_title: "Create Account",
    encrypted: "ðŸ”’ Encrypted",
    fast: "âš¡ Fast",
    global: "ðŸŒ Global",
    email_label: "Email",
    pass_label: "Password",
    google_login: "Login with Google",
    no_account: "No account? Register now",
    have_account: "Have an account? Login",
    welcome_back: "Welcome Back!",
    fullname_placeholder: "Nickname",
    gender_label: "Your Gender",
    male: "Male",
    female: "Female",
    seeking_label: "Looking for",
    seeking_male: "Men",
    seeking_female: "Women",
    seeking_both: "Everyone",
    points_balance: "Balance: {n} Points",
    get_points: "Get Free Points ðŸ’°",
    watch_ad: "Watch Ad (+5 Pts)",
    insufficient_points: "Not enough points! Watch an ad to search.",
    premium_active: "Premium Active (30m Unlimited Search)",
    buy_premium: "Buy 30m Unlimited Access",
    search_cost: "Search Cost: 5 Points",
    secure_chat: "Start Secure Video Chat",
    discovery_desc: "Connect with available people worldwide with total privacy.",
    start_search: "ðŸš€ Start Search",
    searching: "ðŸ” Looking for a partner...",
    match_found: "âœ… Match Found! Redirecting...",
    no_match: "â³ No one available now, try again",
    safety_tip: "Safety Tip ðŸ›¡ï¸",
    safety_desc: "Never share personal or bank info. We encrypt chats for your protection.",
    online_now: "â— Online Now",
    profile_header: "User Profile",
    update_success: "Profile updated successfully! âœ¨",
    delete_account: "Delete Account",
    delete_confirm: "âš ï¸ Are you sure? All your data and points will be lost.",
    interests_label: "Interests",
    type_message: "Type a message...",
    partner_offline: "Partner left the chat",
    partner_online: "Online",
    end_call: "End Call",
    camera_on: "Cam On",
    camera_off: "Cam Off",
    mic_on: "Mic On",
    mic_off: "Mic Muted",
    calling: "Calling...",
    terms_header: "Terms & Privacy ðŸ›¡ï¸",
    terms_accept: "I Agree & Continue âœ…",
    terms_disclaimer: "By continuing, you agree to the rules and take full responsibility."
  }
};

// --- ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø°ÙƒÙŠ Ø¨Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ---

export function applyTranslations(lang) {
  const elements = document.querySelectorAll(".tr");
  elements.forEach((el) => {
    const key = el.getAttribute("data-key");
    if (translations[lang] && translations[lang][key]) {
      let text = translations[lang][key];
      
      // Ø¯Ø¹Ù… Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„ØªÙŠ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù…ØªØºÙŠØ±Ø§Øª Ù…Ø«Ù„ Ø§Ù„Ù†Ù‚Ø§Ø· {n}
      if (el.hasAttribute("data-val")) {
        text = text.replace("{n}", el.getAttribute("data-val"));
      }

      if (el.tagName === "INPUT" || el.tagName === "TEXTAREA") {
        el.placeholder = text;
      } else {
        el.innerText = text;
      }
    }
  });

  document.documentElement.lang = lang;
  document.documentElement.dir = lang === "ar" ? "rtl" : "ltr";
  localStorage.setItem("preferredLang", lang);
  
  const langBtn = document.getElementById("langBtn");
  if (langBtn) langBtn.innerText = lang === "ar" ? "EN" : "AR";
}

export function toggleLang() {
  const current = localStorage.getItem("preferredLang") || "ar";
  const next = current === "ar" ? "en" : "ar";
  applyTranslations(next);
}

export function toggleTheme() {
  const isDark = document.body.classList.toggle("dark-mode");
  localStorage.setItem("theme", isDark ? "dark" : "light");
}

export function initUI() {
  const savedLang = localStorage.getItem("preferredLang") || "ar";
  const savedTheme = localStorage.getItem("theme") || "light";

  applyTranslations(savedLang);
  if (savedTheme === "dark") document.body.classList.add("dark-mode");
}

// ØªØµØ¯ÙŠØ± Ø§Ù„Ù‚Ø§Ù…ÙˆØ³ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± (Ù…Ø«Ù„ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Alert)
export { translations };
